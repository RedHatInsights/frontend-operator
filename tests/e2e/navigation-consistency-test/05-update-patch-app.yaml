---
# First reconciliation trigger: Update the patch app to modify navigation segments
apiVersion: cloud.redhat.com/v1alpha1
kind: Frontend
metadata:
  name: patch-app
  namespace: navigation-consistency-test
spec:
  feoConfigEnabled: true
  frontend:
    paths:
      - /apps/patch
  deploymentRepo: https://github.com/RedHatInsights/insights-chrome
  envName: navigation-consistency-environment
  image: quay.io/cloudservices/patch-frontend:updated-v1  # Changed image to trigger reconciliation
  module:
    manifestLocation: /apps/patch/js/fed-mods.json
  title: Patch Management App - Updated
  navigationSegments:
    - segmentId: patch-advisories-packages
      navItems:
        - id: advisories
          title: Advisories
          href: /insights/patch/advisories
        - id: packages
          title: Packages
          href: /insights/patch/packages
        # Add a new item to test if it appears correctly
        - id: cves
          title: CVEs
          href: /insights/patch/cves
    - segmentId: patch-systems
      navItems:
        - id: patchSystems
          title: Systems
          href: /insights/patch/systems